<!-----------------------------------------------------------------------------
 -
 - Copyright 2019 IBM Corporation and others.
 -
 - Licensed under the Apache License, Version 2.0 (the "License");
 - you may not use this file except in compliance with the License.
 - You may obtain a copy of the License at
 -
 -     http://www.apache.org/licenses/LICENSE-2.0
 -
 - Unless required by applicable law or agreed to in writing, software
 - distributed under the License is distributed on an "AS IS" BASIS,
 - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 - See the License for the specific language governing permissions and
 - limitations under the License.
 -
 ------------------------------------------------------------------------------>

<!DOCTYPE html>
<html lang="en">

  



<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Kabanero</title>
  <meta name="description" content="Kabanero delivers new and existing middleware tools to modernize your cloud journey.">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  

  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
  <link rel="manifest" href="/img/favicon/site.webmanifest">
  <link rel="mask-icon" href="/img/favicon/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="/img/favicon/favicon.ico">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-config" content="/img/favicon/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" type="text/css" href="/assets/kabanero-a0c7ce816709f8f1f869c5f3e20ea18be786a38939ceb1f0e3b6bb4cbbce2caa.css">
  <link rel="stylesheet" type="text/css" href="/assets/coderay-custom-2064fdd73da35b0a6084122db82d0f16112fecbaf174cf845382a2a8b1e3ffd1.css">

  
    <link rel="stylesheet" type="text/css" href="/assets/header-ddf98496c5b2f51dcd0076c26ea31bb8fe57ac8f2369b1f3ea9d588e6c4fbbe3.css">
  

  

  

  <link rel="canonical" href="http://0.0.0.0:4000/docs/ref/commands/server/server-windowsservice.html">
  <link rel="alternate" type="application/rss+xml" title="Kabanero" href="/feed.xml">
  <link href="https://fonts.googleapis.com/css?family=Asap:400,500" rel="stylesheet">
  
  <link href="https://fonts.googleapis.com/css?family=Hammersmith+One" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans" rel="stylesheet">

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="KabaneroIO" />
  <meta name="twitter:title" content="Kabanero" />
  <meta name="twitter:description" content="Kabanero delivers new and existing middleware tools to modernize your cloud journey." />
  <meta name="twitter:image" content="https://kabanero.io/img/Kabanero_Logo_Colored.png" />

  <meta name="google-site-verification" content="yI8NT1dwfSQj6BTL4sPakqn0rI8aBu1GCdxMZFh1aic" />

</head>


  <body>
    
    

    <header>
    <nav class="navbar navbar-expand-lg navbar-light bg-custom">
		
        <a href="/">
            <img id="kabanero_nav_img" src="/img/Kabanero_logo_white.png" class="img-fluid" alt="Kabanero Nav image">
        </a>


        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <div class="navbar-toggler-icon"></div>
        </button>

		<div class="collapse navbar-collapse" id="navbarNav">
			<div class="nav-container">

                <a class="float_right_section" target="_blank" href="https://ibm-cloud-tech.slack.com/messages/CJZCYTD0Q">
                    <img id="header_slack_img" src="/img/slack_Icon.svg" class="img-fluid" alt="slack logo">
                </a>
                <a class="float_right_section" target="_blank" href="https://stackoverflow.com/questions/tagged/kabanero">
                    <img id="header_stackoverflow_img" src="/img/Header_StackO.svg" class="img-fluid" alt="stackoverflow logo">
                </a>
				<a class="float_right_section" target="_blank" href="https://github.com/kabanero-io">
					<img id="header_github_img" src="/img/header_github_icon.svg" class="img-fluid" alt="github logo">
				</a>
				<a class="float_right_section" target="_blank" href="https://twitter.com/Kabaneroio">
					<img id="header_twitter_img" src="/img/header_twitter_icon.svg" class="img-fluid" alt="twitter logo">
                </a>


                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="/try-it">Try It</a>
                    </li>
                    <!-- <li class="nav-item">
                        <a class="nav-link" href="/collections">Collections</a>
                    </li> -->
                </ul>
            </div>
        </div>
    </nav>
</header>


    <main aria-label="Content">

      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Starts the named Open Liberty server as a Windows service (Windows only).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="syntax">Syntax</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the command from <code>path_to_liberty/bin</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>server registerWinService serverName</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">serverName</dt>
<dd>
<p>The name of the server to run the command against. If no server is specified, a server called <code>defaultServer</code> is automatically created to run the command against.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The Windows service name and Windows service display name is <code>serverName</code>. After you register, you can find and administer the Open Liberty server as a service by using <code>regedit</code> from the Windows Registry program. Entries for the service in the registry are in the following locations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>HKEY_LOCAL_MACHINE-&gt;SOFTWARE-&gt;Wow6432Node-&gt;Apache Software Foundation-&gt;Procrun 2.0-&gt;serverName
HKEY_LOCAL_MACHINE-&gt;SYSTEM-&gt;CurrentControlSet-&gt;services-&gt;serverName</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="options">Options</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are no optional parameters for this command.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="usage">Usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Start <code>myserver</code> server in the background:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>server start myserver</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="usage-examples">Usage examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To start or stop a server by using the server script on Windows systems:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>server.bat start serverName
server.bat stop serverName</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="see-also">See also</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="server-stop.html">server stop</a>
<a href="server-run.html">server run</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="exit-codes">Exit codes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following exit codes are available for the <code>server</code> command and the equivalent executable JAR file ws-server.jar:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">0</dt>
<dd>
<p>OK. 0 indicates successful completion of the requested operation. For server status, 0 indicates that the server is running.</p>
</dd>
<dt class="hdlist1">1</dt>
<dd>
<p>For server status, 1 indicates that the server is not running. For other operations, it indicates invocation of a redundant operation. For example, starting a started server or stopping a stopped server. This code might also be returned by JVM if invalid Java options are used.</p>
</dd>
<dt class="hdlist1">2</dt>
<dd>
<p>The server does not exist.</p>
</dd>
<dt class="hdlist1">3</dt>
<dd>
<p>An unsupported action was called on a running server. For example, the server is running when the package action is called.</p>
</dd>
<dt class="hdlist1">4</dt>
<dd>
<p>An unsupported action was called on a stopped server. For example, the server is not running when the dump action is called.</p>
</dd>
<dt class="hdlist1">5</dt>
<dd>
<p>Unknown server status. For example, the workarea directory is missing, or the Attach API fails to work.</p>
</dd>
<dt class="hdlist1">&gt;=20</dt>
<dd>
<p>Return codes greater than or equal to 20 indicate that an error occurred while performing the request. Messages are printed and captured in log files with more information about the error.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="server-process">Server process</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The server process is created by using the environment variables that are specified in the <code>server.env</code> file. The following JVM options are added by default:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>-javaagent:wlp/bin/tools/ws-javaagent.jar</code> option is required for trace, monitoring, incremental publishing of applications, and other server capabilities.</p>
</li>
<li>
<p>The <code>-Xshareclasses</code> and related options enable the shared class cache on supported IBM J9 virtual machines.</p>
</li>
<li>
<p>The cache directory is set to <code>WLP_OUTPUT_DIR/.classCache</code>.</p>
</li>
<li>
<p>The <code>-XX:MaxPermSize</code> option increases the size of the permanent generation for HotSpot virtual machines before Java 8. You can set the <code>WLP_SKIP_MAXPERMSIZE</code> environment variable to <code>true</code> to avoid this default option, which avoids warnings such as:</p>
<div class="literalblock">
<div class="content">
<pre>`Java HotSpot(TM) Client VM warning: ignoring option MaxPermSize=256m; support was removed in 8.0`</pre>
</div>
</div>
</li>
<li>
<p>The <code>-Djava.awt.headless=true</code> option avoids <code>java.awt.HeadlessException</code> on all platforms and focus-stealing problems on Mac OS X.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can use the <code>jvm.options</code> file to override these default JVM options or add more JVM options.</p>
</div>
<div class="paragraph">
<p>By default, the <code>server</code> command sets the <code>umask</code> value to deny all permissions to <code>Other</code> users before the command runs the action. You can set the <code>WLP_SKIP_UMASK</code> environment variable to <code>true</code> in the <code>server.env</code> file to prevent the server command from modifying the umask. If you set the <code>WLP_SKIP_UMASK</code> environment variable, the server uses the <code>umask</code> value from the underlying process of the operation.</p>
</div>
<div class="paragraph">
<p>The current working directory of the server process is set to the server output directory.</p>
</div>
<div class="paragraph">
<p>The server command creates a process ID (PID) file when you start the server and deletes the PID file when you stop the server. By default, the PID file is set to <code>WLP_OUTPUT_DIR/.pid/serverName.pid</code>. The absolute path of the PID file can be changed by setting the <code>PID_FILE</code> environment variable, or the absolute path of the PID directory can be changed by setting the <code>PID_DIR</code> environment variable.</p>
</div>
<div class="paragraph">
<p>The standard output and error from the server process is output to the foreground console for the <code>server run</code> and <code>server debug</code> commands and is redirected to the <code>WLP_OUTPUT_DIR/serverName/logs/console.log</code> file by default when you use the start action. The log name can be changed by setting the <code>LOG_FILE</code> environment variable, and the log directory can be changed by setting the <code>LOG_DIR</code> environment variable.</p>
</div>
<div class="paragraph">
<p>The <code>server stop</code> command prevents new application requests from entering the server, which allows existing requests some time to complete. After that time, the remaining server components are stopped and the server process exits. Application requests that do not complete in the allowed time fail but their exact behavior depends on their activity when the server components are stopped.</p>
</div>
</div>
</div>

    </main>

    <!-----------------------------------------------------------------------------
 -
 - Copyright 2019 IBM Corporation and others.
 -
 - Licensed under the Apache License, Version 2.0 (the "License");
 - you may not use this file except in compliance with the License.
 - You may obtain a copy of the License at
 -
 -     http://www.apache.org/licenses/LICENSE-2.0
 -
 - Unless required by applicable law or agreed to in writing, software
 - distributed under the License is distributed on an "AS IS" BASIS,
 - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 - See the License for the specific language governing permissions and
 - limitations under the License.
 -
 ------------------------------------------------------------------------------>

<footer>
        <div id="footer_kabanero_background">
            <div id="footer_top_container" class="footer_container container-fluid">
                <div id="footer_project_container">
                    <div id="kabanero_footer_logo">
                        <img id="header_slack_img" src="/img/Kabanero_full_logo-white.svg" class="img-fluid" alt="Kabanero logo">
                    </div>
                    <p id="footer_project">an IBM open source project</p>
                </div>
                <div id="footer_round_links_container">
                    <a id="footer_twitter_link" class="footer_round_btn" href="https://twitter.com/Kabaneroio" target="_blank" rel="noopener" aria-label="Twitter"></a>
                    <a id="footer_github_link" class="footer_round_btn" href="https://github.com/kabanero-io" target="_blank" rel="noopener" aria-label="Github"></a>
                    <a id="footer_stackoverflow_link" class="footer_round_btn" href="https://stackoverflow.com/questions/tagged/kabanero" target="_blank" rel="noopener" aria-label="Kabanero questions on Stack Overflow"></a>
                    <a id="footer_slack_link" class="footer_round_btn" href="https://ibm-cloud-tech.slack.com/messages/CJZCYTD0Q" target="_blank" rel="noopener" aria-label="Kabanero Slack channel"></a>
                </div>
            </div>
        </div>

        <div id="footer_bottom_container" class="footer_container container-fluid">
            <div id="footer_bottom_left_section">
                <p id="footer_copyright">&copy; Copyright IBM Corp. 2019</p>
                <p class="vertical_bar">|</p>
                <a id="footer_privacy_policy_link" href="https://www.ibm.com/privacy/" target="_blank" rel="noopener" class="left_footer_link">Privacy policy</a>
                <p class="vertical_bar">|</p>
                <a id="footer_license_link" href="https://github.com/kabanero-io/kabanero-website/blob/master/LICENSE" target="_blank" rel="noopener" class="left_footer_link">License</a>
                <p class="vertical_bar">|</p>
                <a id="footer_notice_link" href="https://github.com/kabanero-io/kabanero-website/blob/master/NOTICE.md" target="_blank" rel="noopener" class="left_footer_link">Notices</a>
                <p class="vertical_bar">|</p>
                <a id="footer_notice_link" href="https://github.com/kabanero-io/kabanero-website/blob/master/IBM-Trademark-Policy.md" target="_blank" rel="noopener" class="left_footer_link">IBM Trademark</a>
            </div>
        </div>
    </footer>

    <!-- PRE-LOADED IMAGES FOR ON HOVER BEHAVIOR -->
    <div class="d-none hidden">
        <img src="/img/header_github_icon_hover.svg">
        <img src="/img/header_twitter_icon_hover.svg">
    </div>


    <!-----------------------------------------------------------------------------
 -
 - Copyright 2019 IBM Corporation and others.
 -
 - Licensed under the Apache License, Version 2.0 (the "License");
 - you may not use this file except in compliance with the License.
 - You may obtain a copy of the License at
 -
 -     http://www.apache.org/licenses/LICENSE-2.0
 -
 - Unless required by applicable law or agreed to in writing, software
 - distributed under the License is distributed on an "AS IS" BASIS,
 - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 - See the License for the specific language governing permissions and
 - limitations under the License.
 -
 ------------------------------------------------------------------------------>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>





  <script src="/assets/header-d405bd49656b9225ee0406d4235bdb9d94577ed774cccd00b4bf2431152ab70b.js" type="text/javascript"></script>



  </body>

</html>
